<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åŸåŸçš„é–‹å°è¡Œç¨‹è¡¨ - æ©Ÿå¯†æª”æ¡ˆ</title>
    <!-- å¼•å…¥ Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700;900&family=Special+Elite&display=swap" rel="stylesheet">
    <!-- å¼•å…¥ Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['"Noto Sans TC"', 'sans-serif'],
                        typewriter: ['"Special Elite"', 'monospace'], // æ‰“å­—æ©Ÿå­—é«”
                    },
                    colors: {
                        paper: '#EFEFE9',
                        ink: '#1F2937',
                        blood: '#B91C1C',
                        folder: '#D4C5B0',
                    },
                    backgroundImage: {
                        'paper-texture': "url('data:image/svg+xml,%3Csvg viewBox=%220 0 200 200%22 xmlns=%22http://www.w3.org/2000/svg%22%3E%3Cfilter id=%22noiseFilter%22%3E%3CfeTurbulence type=%22fractalNoise%22 baseFrequency=%220.85%22 numOctaves=%223%22 stitchTiles=%22stitch%22/%3E%3C/filter%3E%3Crect width=%22100%25%22 height=%22100%25%22 filter=%22url(%23noiseFilter)%22 opacity=%220.05%22/%3E%3C/svg%3E')",
                    }
                }
            }
        }
    </script>
    <style>
        body {
            background-color: #111827;
            /* æ¡Œé¢æœ¨ç´‹æˆ–æš—è‰²é›œè¨ŠèƒŒæ™¯ */
            background-image: repeating-linear-gradient(45deg, #111827 25%, transparent 25%, transparent 75%, #111827 75%, #111827), repeating-linear-gradient(45deg, #111827 25%, #1f2937 25%, #1f2937 75%, #111827 75%, #111827);
            background-position: 0 0, 10px 10px;
            background-size: 20px 20px;
            min-height: 100vh;
        }

        /* æ–‡ä»¶å¡ç‰‡ */
        .document-card {
            background-color: #EFEFE9;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.5), 0 10px 10px -5px rgba(0, 0, 0, 0.4);
            position: relative;
        }
        
        .document-card::before {
            content: "";
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background-image: url('data:image/svg+xml,%3Csvg viewBox=%220 0 200 200%22 xmlns=%22http://www.w3.org/2000/svg%22%3E%3Cfilter id=%22noiseFilter%22%3E%3CfeTurbulence type=%22fractalNoise%22 baseFrequency=%220.85%22 numOctaves=%223%22 stitchTiles=%22stitch%22/%3E%3C/filter%3E%3Crect width=%22100%25%22 height=%22100%25%22 filter=%22url(%23noiseFilter)%22 opacity=%220.08%22/%3E%3C/svg%3E');
            pointer-events: none;
            z-index: 10;
        }

        /* è† å¸¶æ•ˆæœ */
        .tape {
            background-color: rgba(255, 255, 255, 0.4);
            box-shadow: 0 1px 3px rgba(0,0,0,0.2);
            backdrop-filter: blur(2px);
            border: 1px solid rgba(255,255,255,0.1);
        }

        /* å°ç« æ•ˆæœ */
        .stamp {
            color: #B91C1C;
            border: 4px solid #B91C1C;
            font-family: 'Special Elite', monospace;
            padding: 0.25rem 0.5rem;
            text-transform: uppercase;
            border-radius: 4px;
            display: inline-block;
            opacity: 0.8;
            mask-image: url('data:image/svg+xml,%3Csvg viewBox=%220 0 200 200%22 xmlns=%22http://www.w3.org/2000/svg%22%3E%3Cfilter id=%22noiseFilter%22%3E%3CfeTurbulence type=%22fractalNoise%22 baseFrequency=%221.5%22 numOctaves=%223%22 stitchTiles=%22stitch%22/%3E%3C/filter%3E%3Crect width=%22100%25%22 height=%22100%25%22 filter=%22url(%23noiseFilter)%22 opacity=%220.8%22/%3E%3C/svg%3E');
            -webkit-mask-image: url('data:image/svg+xml,%3Csvg viewBox=%220 0 200 200%22 xmlns=%22http://www.w3.org/2000/svg%22%3E%3Cfilter id=%22noiseFilter%22%3E%3CfeTurbulence type=%22fractalNoise%22 baseFrequency=%220.5%22 numOctaves=%223%22 stitchTiles=%22stitch%22/%3E%3C/filter%3E%3Crect width=%22100%25%22 height=%22100%25%22 filter=%22url(%23noiseFilter)%22 opacity=%221%22/%3E%3C/svg%3E');
        }

        /* å¡—é»‘å¯©æŸ¥ (Redacted) */
        .redacted {
            background-color: #111827;
            color: #111827;
            text-shadow: none;
            cursor: crosshair;
            transition: color 0.3s;
        }
        .redacted:hover {
            color: #374151; /* æ‡¸åœæ™‚éš±ç´„å¯è¦‹ */
        }

        /* æ‰“å­—æ©Ÿæ‰“å­—æ•ˆæœçš„æ¸¸æ¨™ */
        .typewriter-cursor {
            border-right: 2px solid #111827;
            animation: blink 1s step-end infinite;
        }
        @keyframes blink { 50% { border-color: transparent; } }

        .file-border {
            border-bottom: 2px dashed #9CA3AF;
        }
    </style>
</head>
<body class="flex items-center justify-center p-4 min-h-screen">

    <!-- Main Document Container -->
    <div class="w-full max-w-lg document-card p-6 md:p-8 relative">
        
        <!-- Top Metadata -->
        <div class="flex justify-between items-start font-typewriter text-xs text-gray-500 mb-6 border-b-2 border-gray-400 pb-2">
            <div>
                <p>DEPARTMENT OF INVESTIGATION</p>
                <p>CASE FILE: #YY-2026-EP</p>
            </div>
            <div class="text-right">
                <p>DATE: FEB.12-15</p>
                <p>CLASS: <span class="text-red-700 font-bold">RESTRICTED</span></p>
            </div>
        </div>

        <!-- Header / Subject Info -->
        <div class="flex items-center mb-8 relative z-20">
            <!-- Photo attached with tape -->
            <div class="relative mr-6 transform -rotate-2">
                <div class="tape absolute -top-3 left-1/2 transform -translate-x-1/2 w-12 h-6 rotate-3 z-30"></div>
                <div class="w-24 h-24 border-4 border-white shadow-md bg-gray-200 overflow-hidden filter grayscale contrast-125">
                     <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-full h-full text-gray-500 transform scale-110 translate-y-1">
                          <path fill-rule="evenodd" d="M7.5 6a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM3.751 20.105a8.25 8.25 0 0116.498 0 .75.75 0 01-.437.695A18.683 18.683 0 0112 22.5c-2.786 0-5.433-.602-7.812-1.7a.75.75 0 01-.437-.695z" clip-rule="evenodd" />
                    </svg>
                </div>
                <p class="text-center font-typewriter text-[10px] mt-1 text-gray-600">SUBJECT A</p>
            </div>
            
            <div class="flex-grow">
                <h1 class="text-3xl font-black text-ink tracking-widest uppercase mb-1 font-typewriter">YUAN YUAN</h1>
                <p class="text-sm font-bold text-gray-600 font-typewriter bg-gray-200 inline-block px-1">ALIAS: åŸåŸ</p>
                
                <!-- Stamp -->
                <div class="absolute right-0 top-0 transform rotate-[15deg] opacity-90 z-20 hidden md:block">
                    <div class="stamp text-2xl font-black">TOP SECRET</div>
                </div>
            </div>
        </div>

        <!-- Surveillance Log (Status Banner) -->
        <div id="status-banner" class="hidden mb-6 bg-gray-200 border-l-4 border-gray-800 p-3 font-typewriter text-sm relative z-20">
            <span class="text-red-700 font-bold">>> SURVEILLANCE LOG:</span>
            <span id="status-text" class="text-gray-800 typewriter-cursor"></span>
        </div>

        <div class="mb-4">
            <h2 class="font-typewriter text-lg font-bold border-b border-black inline-block mb-4">EXHIBIT A: SCHEDULE INTERCEPT</h2>
        </div>

        <!-- Schedule Grid (List style for documents) -->
        <div class="space-y-4 font-typewriter relative z-20" id="schedule-container">
            <!-- Javascript will inject items here -->
        </div>

        <!-- Footer Strip -->
        <div class="mt-10 border-t-2 border-black pt-2 flex justify-between items-end relative z-20">
            <p class="text-xs font-bold text-gray-500 font-typewriter">WARNING: UNAUTHORIZED DISTRIBUTION IS PUNISHABLE BY LAW.</p>
            <button onclick="shareLink()" class="text-ink hover:text-red-700 font-bold text-sm underline decoration-2 transition-colors">
                [COPY RECORD]
            </button>
        </div>
        
        <!-- Extra decorations -->
        <div class="absolute bottom-4 left-4 stamp text-lg border-2 transform -rotate-[10deg] opacity-50 z-10 md:hidden">SECRET</div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="fixed bottom-4 left-1/2 transform -translate-x-1/2 bg-ink text-paper border border-gray-600 px-6 py-2 font-typewriter text-sm opacity-0 transition-opacity duration-300 pointer-events-none z-50">
        >> LINK_COPIED_TO_CLIPBOARD
    </div>

    <script>
        // æ©Ÿå¯†è¡Œç¨‹è¡¨è³‡æ–™
        const schedule = [
            { dayName: "THU", date: "02/12", dayId: 4, time: "19:00", title: "çœ‹è‰¾æ™®æ–¯å¦äº‹ä»¶", icon: "ğŸ“", isRedacted: false },
            { dayName: "FRI", date: "02/13", dayId: 5, time: "18:00", title: "é–‹å°ç›´æ’­", icon: "ğŸ™ï¸", isRedacted: false },
            { dayName: "SAT", date: "02/14", dayId: 6, time: "19:00", title: "é€±æœ«é–‹å°", icon: "ğŸ‘ï¸", isRedacted: false },
            { dayName: "SUN", date: "02/15", dayId: 0, time: "UNKNOWN", title: "ä¼‘", icon: "â¬›", isRedacted: true } // æ˜ŸæœŸæ—¥è¨­ç‚ºå¡—é»‘
        ];

        const container = document.getElementById('schedule-container');
        const statusBanner = document.getElementById('status-banner');
        const statusText = document.getElementById('status-text');
        
        function renderSchedule() {
            const now = new Date();
            const currentDay = now.getDay(); 
            const currentHour = now.getHours();
            const currentMinute = now.getMinutes();

            container.innerHTML = '';
            let hasStreamToday = false;

            schedule.forEach((item) => {
                const isToday = item.dayId === currentDay;
                if (isToday && !item.isRedacted) hasStreamToday = true;

                const div = document.createElement('div');
                div.className = "flex items-center file-border pb-3 relative";
                
                // è™•ç†å¡—é»‘å¯©æŸ¥æ•ˆæœ (Redacted)
                const timeDisplay = item.isRedacted ? `<span class="redacted px-1 rounded-sm">${item.time}</span>` : item.time;
                let titleDisplay = item.isRedacted ? `<span class="redacted px-1 rounded-sm">${item.title}</span>` : item.title;
                if(!item.isRedacted){
                    titleDisplay = `<span class="font-sans font-bold text-lg">${item.title}</span>`;
                }

                // è™•ç†ä»Šæ—¥ç‰¹æ•ˆ
                let todayIndicator = "";
                let textColor = "text-ink";
                if (isToday && !item.isRedacted) {
                    textColor = "text-red-700 font-bold";
                    todayIndicator = `<div class="absolute -left-3 top-1/2 transform -translate-y-1/2 w-1.5 h-full bg-red-700"></div>`;
                }

                div.innerHTML = `
                    ${todayIndicator}
                    <div class="w-24 flex-shrink-0 flex flex-col">
                        <span class="text-sm font-bold ${textColor}">${item.dayName} ${item.date}</span>
                    </div>
                    <div class="w-20 flex-shrink-0">
                        <span class="text-lg ${textColor}">${timeDisplay}</span>
                    </div>
                    <div class="flex-grow flex items-center justify-between">
                        ${titleDisplay}
                        <span class="text-gray-400 text-xl ml-2 opacity-70">${item.icon}</span>
                    </div>
                `;
                container.appendChild(div);
            });

            // Banner Logic (ä»¥ç‰¹å‹™å£å»æ’°å¯«)
            if (hasStreamToday) {
                statusBanner.classList.remove('hidden');
                const todaySchedule = schedule.find(s => s.dayId === currentDay && !s.isRedacted);
                if(todaySchedule) {
                    const [schedHour, schedMin] = todaySchedule.time.split(':').map(Number);
                    const schedTimeVal = schedHour * 60 + schedMin;
                    const curTimeVal = currentHour * 60 + currentMinute;
                    
                    statusBanner.className = "mb-6 bg-gray-200 border-l-4 border-gray-800 p-3 font-typewriter text-sm relative z-20 block";

                    if (curTimeVal >= schedTimeVal && curTimeVal < schedTimeVal + 240) {
                        statusText.innerHTML = " TARGET IS LIVE. MONITORING PROCEEDING.";
                        statusBanner.classList.replace('border-gray-800', 'border-red-700');
                        statusBanner.querySelector('.text-red-700').classList.add('animate-pulse');
                    } else if (curTimeVal < schedTimeVal) {
                        statusText.innerHTML = ` ACTIVITY EXPECTED AT ${todaySchedule.time}. STAND BY.`;
                    } else {
                        statusText.innerHTML = " TARGET LOST. SURVEILLANCE CONCLUDED FOR TODAY.";
                    }
                }
            } else {
                // å¦‚æœä»Šå¤©æ˜¯æ˜ŸæœŸæ—¥ï¼ˆå¡—é»‘æ—¥ï¼‰æˆ–æ²’æ’ç¨‹
                if(currentDay === 0) {
                    statusBanner.classList.remove('hidden');
                    statusBanner.className = "mb-6 bg-black text-white border-l-4 border-gray-600 p-3 font-typewriter text-sm relative z-20 block";
                    statusBanner.innerHTML = `<span class="text-gray-400">>> SURVEILLANCE LOG:</span> <span class="redacted bg-gray-800 text-gray-800 hover:text-gray-400">NO SIGNAL DETECTED. TARGET IS RESTING.</span>`;
                } else {
                    statusBanner.classList.add('hidden');
                }
            }
        }

        renderSchedule();
        setInterval(renderSchedule, 60000);

        function shareLink() {
            const dummyUrl = window.location.href;
            navigator.clipboard.writeText(dummyUrl).then(() => {
                const toast = document.getElementById('toast');
                toast.classList.remove('opacity-0');
                setTimeout(() => {
                    toast.classList.add('opacity-0');
                }, 2000);
            });
        }
    </script>
</body>
</html>
