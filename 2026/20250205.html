<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÂéüÂéüÁöÑÈñãÂè∞Ë°åÁ®ãË°®</title>
    <!-- ÂºïÂÖ• Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700;900&family=Bangers&display=swap" rel="stylesheet">
    <!-- ÂºïÂÖ• Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['"Noto Sans TC"', 'sans-serif'],
                        comic: ['"Bangers"', 'cursive'], // Ëã±ÊñáÂ≠óÈ´îÁî®Êº´Áï´È¢®
                    },
                    colors: {
                        comic: {
                            yellow: '#FCD34D',
                            pink: '#F472B6',
                            blue: '#60A5FA',
                            paper: '#FFFFFF',
                        }
                    },
                    boxShadow: {
                        'comic': '6px 6px 0px 0px rgba(0,0,0,1)',
                        'comic-sm': '3px 3px 0px 0px rgba(0,0,0,1)',
                        'comic-hover': '8px 8px 0px 0px rgba(0,0,0,1)',
                    }
                }
            }
        }
    </script>
    <style>
        body {
            background-color: #60A5FA;
            /* Êº´Áï´Á∂≤ÈªûËÉåÊôØ (Polka Dots) */
            background-image: radial-gradient(#ffffff 20%, transparent 20%), radial-gradient(#ffffff 20%, transparent 20%);
            background-size: 20px 20px;
            background-position: 0 0, 10px 10px;
            min-height: 100vh;
        }
        
        /* Êº´Áï´Ê†ºÂ≠ê */
        .comic-panel {
            background: white;
            border: 4px solid black;
            position: relative;
            overflow: hidden;
            transition: transform 0.2s ease;
        }
        
        .comic-panel:hover {
            transform: scale(1.02) rotate(-1deg);
            z-index: 10;
        }

        /* Â∞çË©±Ê∞£Ê≥° */
        .speech-bubble {
            position: relative;
            background: #fff;
            border: 3px solid #000;
            border-radius: .4em;
        }
        .speech-bubble:after {
            content: '';
            position: absolute;
            top: 0;
            left: 50%;
            width: 0;
            height: 0;
            border: 10px solid transparent;
            border-bottom-color: #000;
            border-top: 0;
            margin-left: -10px;
            margin-top: -10px;
        }

        /* ÈõÜ‰∏≠Á∑öÊïàÊûú (ÈÅ∏Áî®) */
        .focus-lines {
            background: repeating-conic-gradient(from 0deg, transparent 0deg 10deg, rgba(255,235,59,0.3) 10deg 20deg);
        }
        
        .active-day-border {
            border-color: #EC4899;
            box-shadow: 0 0 0 4px #FCE7F3;
        }
    </style>
</head>
<body class="flex items-center justify-center p-4 min-h-screen">

    <!-- Main Comic Container -->
    <div class="w-full max-w-lg bg-white border-4 border-black shadow-comic p-4 relative">
        
        <!-- Comic Title Strip -->
        <div class="bg-yellow-300 border-4 border-black p-4 mb-4 transform -rotate-1 shadow-comic-sm flex items-center justify-between">
            <div class="flex items-center">
                <!-- Avatar Circle -->
                <div class="w-16 h-16 rounded-full border-4 border-black bg-pink-200 overflow-hidden flex-shrink-0 mr-3">
                     <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-full h-full text-pink-500 transform scale-110 translate-y-1">
                          <path fill-rule="evenodd" d="M7.5 6a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM3.751 20.105a8.25 8.25 0 0116.498 0 .75.75 0 01-.437.695A18.683 18.683 0 0112 22.5c-2.786 0-5.433-.602-7.812-1.7a.75.75 0 01-.437-.695z" clip-rule="evenodd" />
                    </svg>
                </div>
                <div>
                    <h1 class="text-3xl font-black italic tracking-tighter text-black leading-none">YUAN YUAN</h1>
                    <div class="bg-black text-white text-xs inline-block px-2 py-1 font-bold transform rotate-2 mt-1">
                        STREAM SCHEDULE
                    </div>
                </div>
            </div>
            <div class="text-right">
                <span class="block font-comic text-2xl">VOL. 1</span>
                <span class="text-xs font-bold border-b-2 border-black">Êú¨ÈÄ±Ë°åÁ®ã</span>
            </div>
        </div>

        <!-- Status Banner (Speech Bubble Style) -->
        <div id="status-banner" class="hidden mb-6 relative mx-2">
            <div class="bg-white border-4 border-black p-3 rounded-xl shadow-comic-sm relative z-10">
                <p class="font-bold text-center text-lg" id="status-text"></p>
            </div>
            <!-- Bubble Tail -->
            <div class="w-6 h-6 bg-white border-r-4 border-b-4 border-black absolute left-8 -bottom-3 transform rotate-45 z-20"></div>
        </div>

        <!-- Comic Grid (4 Panels) -->
        <div class="grid grid-cols-2 gap-4" id="schedule-container">
            <!-- Javascript will inject items here -->
        </div>

        <!-- Footer Strip -->
        <div class="mt-6 border-t-4 border-black pt-2 flex justify-between items-end">
            <p class="text-xs font-bold text-gray-500 transform rotate-1">TO BE CONTINUED...</p>
            <button onclick="shareLink()" class="bg-pink-400 hover:bg-pink-300 text-black border-2 border-black font-bold py-1 px-3 text-sm shadow-comic-sm active:shadow-none active:translate-x-[3px] active:translate-y-[3px] transition-all">
                ÂàÜ‰∫´Ë°åÁ®ã
            </button>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="fixed bottom-4 left-1/2 transform -translate-x-1/2 bg-black text-white border-2 border-white px-6 py-2 font-bold text-lg shadow-comic opacity-0 transition-opacity duration-300 pointer-events-none z-50 rotate-2">
        LINK COPIED!
    </div>

    <script>
        const schedule = [
            { dayName: "ÊòüÊúüÂõõ", date: "2/5", dayId: 4, time: "18:00", title: "ÈñãÂè∞Áõ¥Êí≠", icon: "üé§", bg: "bg-blue-100" },
            { dayName: "ÊòüÊúü‰∫î", date: "2/6", dayId: 5, time: "18:00", title: "Â∞èÈÄ±Êú´", icon: "üçª", bg: "bg-green-100" },
            { dayName: "ÊòüÊúüÂÖ≠", date: "2/7", dayId: 6, time: "15:00", title: "ÈÄ±Êú´‰∏ãÂçà", icon: "‚òÄÔ∏è", bg: "bg-yellow-100" },
            { dayName: "ÊòüÊúüÊó•", date: "2/8", dayId: 0, time: "15:00", title: "Êî∂ÂøÉÂè∞", icon: "üçµ", bg: "bg-pink-100" }
        ];

        const container = document.getElementById('schedule-container');
        const statusBanner = document.getElementById('status-banner');
        const statusText = document.getElementById('status-text');
        
        function renderSchedule() {
            // Get current date info
            const now = new Date();
            const currentDay = now.getDay(); 
            const currentHour = now.getHours();
            const currentMinute = now.getMinutes();

            // Clear previous content
            container.innerHTML = '';
            
            let hasStreamToday = false;

            schedule.forEach((item, index) => {
                const isToday = item.dayId === currentDay;
                if (isToday) hasStreamToday = true;

                const div = document.createElement('div');
                
                // Comic Panel Styling
                let bgClass = item.bg;
                let overlay = "";

                if (isToday) {
                    bgClass = "bg-white focus-lines"; // Special background for today
                    overlay = `<div class="absolute -top-3 -right-3 bg-red-500 text-white font-comic text-xl border-2 border-black px-2 py-1 transform rotate-12 z-20 shadow-sm animate-bounce">NOW!</div>`;
                }

                div.className = `comic-panel h-48 ${bgClass} p-2 flex flex-col justify-between ${isToday ? 'border-pink-500 border-4' : ''}`;
                
                div.innerHTML = `
                    ${overlay}
                    <!-- Panel Number -->
                    <div class="absolute top-1 left-2 font-comic text-xl text-black opacity-50">#0${index + 1}</div>
                    
                    <!-- Date Header -->
                    <div class="text-right mt-1 mr-1">
                        <span class="inline-block bg-black text-white text-sm font-bold px-2 py-0.5 transform -rotate-2">
                            ${item.dayName} ${item.date}
                        </span>
                    </div>

                    <!-- Center Action -->
                    <div class="flex-grow flex items-center justify-center relative">
                        <div class="text-6xl filter drop-shadow-lg transform hover:scale-110 transition-transform duration-200 cursor-pointer">
                            ${item.icon}
                        </div>
                        <!-- Sound Effect Text -->
                        <div class="absolute text-xs font-black text-black opacity-20 transform -rotate-12 scale-150 top-4 right-4 pointer-events-none">
                            STREAM
                        </div>
                    </div>

                    <!-- Speech Bubble for Time -->
                    <div class="speech-bubble p-2 text-center mt-2 mx-1 shadow-sm">
                        <div class="font-black text-2xl leading-none font-comic text-black">${item.time}</div>
                        <div class="text-xs font-bold text-gray-600 truncate">${item.title}</div>
                    </div>
                `;
                container.appendChild(div);
            });

            // Banner Logic
            if (hasStreamToday) {
                statusBanner.classList.remove('hidden');
                const todaySchedule = schedule.find(s => s.dayId === currentDay);
                const [schedHour, schedMin] = todaySchedule.time.split(':').map(Number);
                const schedTimeVal = schedHour * 60 + schedMin;
                const curTimeVal = currentHour * 60 + currentMinute;
                
                // Reset banner style first
                const bannerDiv = statusBanner.querySelector('div');
                bannerDiv.className = "bg-white border-4 border-black p-3 rounded-xl shadow-comic-sm relative z-10";

                if (curTimeVal >= schedTimeVal && curTimeVal < schedTimeVal + 240) {
                    statusText.innerHTML = "üî¥ È©öÔºÅÂéüÂéüÁ´üÁÑ∂Ê≠£Âú®Áõ¥Êí≠‰∏≠ÔºÅÔºü";
                    bannerDiv.classList.add('bg-red-100');
                } else if (curTimeVal < schedTimeVal) {
                    statusText.innerHTML = `üì¢ ËôüÂ§ñÔºÅ‰ªäÂ§© ${todaySchedule.time} Ê∫ñÂÇôÈõÜÂêàÔºÅ`;
                } else {
                    statusText.innerHTML = "üí§ ‰ªäÂ§©ÁöÑÈÄ£ËºâÁµêÊùü‰∫ÜÔºåÊòéÂ§©Ë´ãÊó©ÔºÅ";
                }
            } else {
                 statusBanner.classList.add('hidden');
            }
        }

        // Initial render
        renderSchedule();

        // Update every 60 seconds to check for day change or time change
        setInterval(renderSchedule, 60000);

        function shareLink() {
            const dummyUrl = window.location.href;
            navigator.clipboard.writeText(dummyUrl).then(() => {
                const toast = document.getElementById('toast');
                toast.classList.remove('opacity-0');
                setTimeout(() => {
                    toast.classList.add('opacity-0');
                }, 2000);
            });
        }
    </script>
</body>
</html>
